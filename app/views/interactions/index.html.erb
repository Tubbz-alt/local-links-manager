<% content_for :page_title, @service.label %>

<% breadcrumb :interactions, @authority, @service %>

<div class="page-title">
  <h1><%= @service.label %></h1>
</div>

<% if @interactions.any? %>
  <table class="table table-striped table-hover table-bordered contacts-table" data-module="filterable-table">
    <thead>
      <tr class="table-header">
        <th>LGIL Code</th>
        <th>Local Government Interactions (<%= @interactions.count %>)</th>
        <th>Link</th>
        <th>Action</th>
      </tr>
      <%= render partial: "govuk_admin_template/table_filter",
      locals: {placeholder: "Filter list of local interactions"} %>
    </thead>
    <tbody>
      <% @interactions.each do |interaction| %>
        <tr>
          <td class="lgil_code">
            <%= interaction.lgil_code %>
          </td>
          <td class="name">
            <%= interaction.label %>
          </td>
          <td>
            <%= display_link_for(interaction) %>
          </td>
          <td>
            <%= link_to('Edit link', edit_local_authority_service_interaction_link_path(interaction_slug: interaction.slug), class: "btn btn-default btn-xs") %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

<% else %>
  <h4>No local interactions found</h4>
<% end %>
